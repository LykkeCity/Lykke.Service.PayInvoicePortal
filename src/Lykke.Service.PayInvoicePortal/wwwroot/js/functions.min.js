function initResize(){$(window).resize(function(){setTimeout(function(){$(".header_container").css({height:$(".header").outerHeight()})},30);$(".video iframe").css({maxHeight:$(window).outerHeight()-$("header").outerHeight()});$("body").css({paddingBottom:$("footer").outerHeight()})}).trigger("resize")}function initEventsOnClick(){$('[data-control="select"] ._value').text($(this).siblings("select").val());$('[data-control="select"] select').on("change",function(){$(this).siblings(".select__value").find("._value").text(this.value)});$(".action_follow").on("click",function(){$(this).toggleClass("active")});if(!isMobile)$("body").on("click",'a[href^="tel:"]',function(){$(this).attr("href",$(this).attr("href").replace(/^tel:/,"callto:"))});$("._open_cutted_content").on("click",function(n){n.preventDefault();var t=$(this).attr("href");$(t).toggleClass("show");$(this).toggleClass("active")})}function initEventsOnScroll(){$(window).scroll(function(){var n=$(window).height()+$(window).scrollTop(),t=$(document).height()-$(".footer").outerHeight();n>t+20?$("body").addClass("footer_in_view").find("#launcher, .btn_feedback").css({bottom:$(".footer").outerHeight()}):$("body").removeClass("footer_in_view").find("#launcher, .btn_feedback").css({bottom:0})}).trigger("scroll")}function initHeader(){if(isMobile||wW<=768)$(".header_nav .nav_list__item > a").on("click",function(n){n.stopPropagation();var t=$(this).attr("href");if($(this).parent(".nav_list__item").hasClass("nav_list__item--selected"))return!0;$(".header_nav").addClass("header_nav--selected");$(".header_nav .nav_list__item").removeClass("nav_list__item--selected");$(this).parent(".nav_list__item").addClass("nav_list__item--selected");n.preventDefault()});else hideSubMenu();$("._open_submenu").on("click",function(n){n.preventDefault();$(this).toggleClass("active").siblings(".submenu").toggleClass("open");$("body, html").toggleClass("submenu_opened")});$(".btn_menu").on("click",function(n){n.preventDefault();n.stopPropagation();$("body").addClass("body--menu_opened");$(".sidebar_menu").addClass("sidebar_menu--open")});$(".sidebar_menu, .header_search").on("click",function(n){n.stopPropagation()});$("body, .btn_close_menu, .menu_overlay, .btn_close_header").on("click",function(){$("body").removeClass("body--menu_opened body--search_showed");$(".sidebar_menu").removeClass("sidebar_menu--open");$(".header_search").removeClass("header_search--show");hideSubMenu()});$(".btn_open_search").on("click",function(n){n.preventDefault();n.stopPropagation();$("body").addClass("body--search_showed");$(".header_search").addClass("header_search--show")})}function hideSubMenu(){$(".header_nav").removeClass("header_nav--selected");$(".nav_list__item").removeClass("nav_list__item--selected")}function initSmoothScroll(){$(".smooth_scroll").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var n=$(this.hash),t=$(this).data("scroll-offset")?$(this).data("scroll-offset"):0;if(n=n.length?n:$("[name="+this.hash.slice(1)+"]"),n.length)return $("html, body").animate({scrollTop:n.offset().top-t},1e3),!1}})}function initStickyNav(){function u(){var n=$(this).scrollTop();Math.abs(t-n)<=i||(n>t&&n>r?(hideSubMenu(),$(".header_nav, .header, .btn_affix").removeClass("nav_down").addClass("nav_up")):(hideSubMenu(),n+$(window).height()<$(document).height()&&$(".header_nav, .header, .btn_affix").removeClass("nav_up").addClass("nav_down")),t=n)}var n,t=0,i=5,r=$(".header_nav").outerHeight();$(window).scroll(function(){n=!0});setInterval(function(){n&&(u(),n=!1)},250);$(window).resize(function(){setTimeout(function(){$(".header_nav").css({paddingTop:$(".header").outerHeight()})},30)}).trigger("resize")}function initTabs(){$("._go_to_tab").on("shown.bs.tab",function(){var n=$(this).attr("href");$('.nav-tabs a[href="'+n+'"]').tab("show")});var n=document.location.toString(),t="#tab_";n.match("#")&&$('.nav-tabs a[href="#'+n.split(t)[1]+'"]').tab("show");$(".nav-tabs a").on("shown.bs.tab",function(n){window.location.hash=t+n.target.hash.split("#")[1]})}function initFileupload(){var t=$(".fileupload__btn"),n=t.siblings(".fileupload__field"),i=t.siblings(".fileupload__notice");t.on("click",function(){n.click();setTimeout(function(){n.val()&&i.text(n.val().split("\\").pop())},1);n.change(function(){var n;n=$(this).val().split("\\").pop();i.text(n).attr("title",n)})})}function pie(){var t,r,n;if($(".pie").length){function i(n){return"rotate("+n+"deg) translate(0, -25%)"}t=function(n,t){t=t||{};t.color=t.color||"white";t.backgroundColor=t.backgroundColor||"black";this.el=n;this.inner=this.el.querySelector(".pie_inner");this.blocker1=this.el.querySelector(".pie_blocker-1");this.blocker2=this.el.querySelector(".pie_blocker-2");this.pieLeft=this.el.querySelector(".pie_circle-left");this.pieRight=this.el.querySelector(".pie_circle-right");this.pieLeft.style.backgroundColor=t.color;this.pieRight.style.backgroundColor=t.color;this.blocker1.style.backgroundColor=t.backgroundColor;this.blocker2.style.backgroundColor=t.backgroundColor};t.prototype.set=function(n){this.percentage=n;this.degs=360*this.percentage;var t=this.degs>180?180:this.degs,r=this.degs>180?this.degs-180:0;this.blocker1.style.webkitTransform=i(t);this.blocker2.style.webkitTransform=i(r)};r=new t(document.querySelector(".pie"),{mask:!0,color:"#0388ef",backgroundColor:"#f3f4f5"});n=0;function u(){n>=100&&(n=0);r.set(n++*.01)}setInterval(u,600)}}function openCreateInvoice(){$("._create_invoice_btn").on("click",function(n){n.preventDefault();n.stopPropagation();$("body").addClass("body--menu_opened");$("._invoice_sidebar").addClass("sidebar_menu--open")})}var wH=$(window).height(),wW=$(window).width(),ua=navigator.userAgent,touchendOrClick=ua.match(/iPad|iPhone|iPad/i)?"touchend":"click",deviceAgent=navigator.userAgent.toLowerCase(),isMobile=deviceAgent.match(/(iphone|ipod|ipad)/);FastClick.attach(document.body);isMobile||wW<=767?$("body").addClass("is_mobile"):$("body").removeClass("is_mobile");$(document).ready(function(){initResize();initEventsOnClick();initEventsOnScroll();initHeader();initStickyNav();initTabs();initSmoothScroll();initFileupload();pie();openCreateInvoice()});